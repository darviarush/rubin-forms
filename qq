#!perl

use strict;
use warnings;

BEGIN {
	#use Carp 'verbose';
	#$SIG{ __DIE__ } = *Carp::confess;
	use Cwd qw/cwd/;
	use Data::Dumper;
}

use File::Basename qw/dirname/;
#chdir dirname($0);
my $framework_dir = dirname($0)."/../rubin";
use lib dirname($0)."/lib";
use lib dirname($0)."/../rubin/lib";
use Msg;
use Utils;
our $ini = Utils::parse_ini("main.ini");
if($ini) {
	require Connect;
}

@ARGV = "qq" unless @ARGV;
my $path = "bin/$ARGV[0].pl";
if(-e $path) { do $path; }
elsif(-e "$framework_dir/$path") { do "$framework_dir/$path"; }
else { die "Команда `$path` не найдена" }
die $@//$! if $@//$!;

1;